---
title: "Process ReadVarsESO csv"
author: "Noah Klammer"
date: "3/15/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Import

```{r import, message=FALSE, warning=FALSE}
library(readr)
eplusout <- read_csv("eplusout.csv")
# View(eplusout)
```


```{r}
# readr::spec(eplusout)

freq <- "null"
rows <- nrow(eplusout) 
if (rows==8760*4) {
  freq <- "15 minutes"
} else if (rows==8760) {
  freq <- "hourly"
} else if (rows==12) {
  freq <- "monthly"
} else {freq <- "could not determine"}
paste("The frequency of this timeseries is ", freq,".", sep = "")
```

```{r}
list <- grep('Sensible', value = TRUE,
  grep('Zone Ideal Loads', names(eplusout), value = TRUE) 
  )
list
```



### TODO later
```{r}

# grep('Sensible', value = TRUE,
#   grep('Zone Ideal Loads', names(eplusout), value = TRUE) 
#   )

list <- grep('Sensible', value = TRUE,
  grep('Zone Ideal Loads', names(eplusout), value = TRUE) 
  )

obj <- regexpr(pattern = '[0-9]+', list)

mlen <- attr(obj, "match.length")
# obj[1:length(obj)]


# intialize matrix
index <- 0
for (i in 1:length(obj)) {
  index[i] <- substr(list[i], start = obj[i], stop = obj[i]+mlen[i]-1)
}
index <- as.numeric(index)
sort(index)
```


<br><br><br>